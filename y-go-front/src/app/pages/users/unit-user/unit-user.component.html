<div class="user-content">
  <img
    mat-card-image
    class="picture-card"
    [src]="
      user?.picture
        ? 'http://localhost:3000/' + user?.picture
        : 'assets/pictures/avatar-user.png'
    "
    alt="Photo du bar"
  />
  <div class="content-title-accorderon">
    <mat-accordion>
      <mat-expansion-panel
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-description> {{ user?.name }} </mat-panel-description>
        </mat-expansion-panel-header>
        @if (getBarsCreatedByUser().length === 0) {
        <p>Aucuns bars créé</p>
        } @if (getBarsCreatedByUser().length === 1) {
        <p class="title-list">Bar créé</p>
        } @if (getBarsCreatedByUser().length > 1) {
        <p class="title-list">Bars créés</p>
        } @if (getBarsCreatedByUser().length > 0) {
          @for (bar of getBarsCreatedByUser(); track bar) {
          <p (click)="onDetailBar(bar.id)" class="redirect-detail-bar">{{ bar.name }}</p>
          }
        }
        @if (getBarsRatesByUser().length === 1) {
        <p class="title-list">Bar noté</p>
        } @if (getBarsRatesByUser().length > 1) {
        <p class="title-list">Bars notés</p>
        } @if (getBarsRatesByUser().length > 0) {
          @for (rate of getBarsRatesByUser(); track rate) {
          <p (click)="onDetailBar(rate.bar?.id)" class="redirect-detail-bar">
            {{ rate.bar?.name }}
          </p>
            <div class="info-rate">
              <app-star-count [rateBar]="rate.rate!" class="rate-user"></app-star-count> <!--TODO rate de l'utilisateur-->
            </div>
            <mat-divider />
          } @empty {
            <p>Aucuns bars notés</p>
          }
        }
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>
