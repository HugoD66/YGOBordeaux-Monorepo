<div class="liner"></div>
<div class="mapContent">
  <div class="explainMap">
    <div class="explain">
      <h1>Map des bars</h1>
      <p>
        Cette carte interactive vous permet de localiser facilement les bars à
        proximité de votre emplacement. Vous pouvez explorer les options de
        divertissement et de détente offertes par les différents bars de la
        région.
      </p>
        <mat-divider class="divider"></mat-divider>


      @if (selectedBar) {
      <div class="map-clicked">
        <img
          [src]="
            selectedBar?.pictureList
              ? 'http://localhost:3000/' + selectedBar?.pictureList?.pictureOne
              : 'assets/temp/soiree-romantique-verre-vin-roses-table-dans-rue-du-cafe-au-coucher-du-soleil_162585-6880.jpg'
          "
          alt="{{ selectedBar.name }}"
        />
        <div class="map-clicked-details">
          <h5>{{ selectedBar.name }}</h5>
          <p>{{ selectedBar.adresse }}</p>
          <div class="star-rating">
            @for (star of selectedBar?.note | starRating; track star) {
            <span>
              <img
                [src]="
                  star.color === 'yellow'
                    ? '../../../../assets/icons/star-colored.png'
                    : '../../../../assets/icons/star.png'
                "
                alt=""
              />
            </span>
            }
          </div>
          <button mat-raised-button (click)="goDetailBar()">
            En savoir plus
          </button>
        </div>
      </div>
      }
      @if (!selectedBar) {
        <div class="how-use-map">
          <h4>Comment l'utiliser ?</h4>
          <p>
              Cliquez sur l'icône du bar pour afficher des informations
              détaillées.

              Les informations disponibles pour chaque bar incluent le nom du bar
              et son adresse.

              Utilisez la fonction de zoom pour explorer davantage la carte et
              localiser les bars qui vous intéressent.
          </p>
        </div>
      }
    </div>
  </div>
  <div class="map">
    <app-map [bars]="barList" (barSelected)="onBarSelected($event)"></app-map>
  </div>
</div>
<div
  class="background-image"
  [style.display]="showBackgroundImage ? 'block' : 'none'"
>
  <img
    src="assets/pictures/accueil/back-contact.webp"
    alt="YGoBordeaux"
    class="back-picture"
  />
</div>
